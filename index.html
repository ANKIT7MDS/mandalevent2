<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BJP मंडल इवेंट मैनेजमेंट</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>BJP मंडल इवेंट मैनेजमेंट</h1>
    <div class="tabs">
        <button onclick="showTab('event')">इवेंट</button>
        <button onclick="showTab('coordinator')">संयोजक</button>
        <button onclick="showTab('report')">रिपोर्ट</button>
        <button onclick="showTab('dashboard')">डैशबोर्ड</button>
    </div>

    <div id="event" class="tab-content active">
        <form id="eventForm">
            <input type="text" id="eventName" placeholder="इवेंट का नाम" required>
            <select id="mandal" required>
                <option value="">मंडल चुनें</option>
            </select>
            <input type="date" id="eventDate" required>
            <input type="time" id="eventTime" required>
            <input type="text" id="location" placeholder="स्थान" required>
            <button type="submit">इवेंट जोड़ें</button>
        </form>
    </div>

    <div id="coordinator" class="tab-content">
        <form id="coordinatorForm">
            <select id="eventSelect" required>
                <option value="">इवेंट चुनें</option>
            </select>
            <input type="text" id="coordName" placeholder="संयोजक का नाम" required>
            <input type="tel" id="coordMobile" placeholder="मोबाइल नंबर" required>
            <button type="submit">संयोजक जोड़ें</button>
        </form>
    </div>

    <div id="report" class="tab-content">
        <form id="reportForm">
            <select id="reportEventSelect" required>
                <option value="">इवेंट चुनें</option>
            </select>
            <input type="date" id="reportDate" required>
            <input type="text" id="guests" placeholder="अतिथि" required>
            <input type="number" id="attendance" placeholder="उपस्थिति" required>
            <textarea id="details" placeholder="विवरण" required></textarea>
            <input type="file" id="photos" multiple accept="image/*">
            <button type="submit">रिपोर्ट सबमिट करें</button>
        </form>
    </div>

    <!-- डैशबोर्ड -->
    <div id="dashboard" class="tab-content">
        <h2>डैशबोर्ड</h2>
        <div>
            <button onclick="showDashboardTable('events')">कार्यक्रम</button>
            <button onclick="showDashboardTable('coordinators')">संयोजक</button>
            <button onclick="showDashboardTable('reports')">रिपोर्ट्स</button>
        </div>
        <div id="dashboardFilters"></div>
        <div style="margin:15px 0;">
            <button onclick="openAddEventForm()">+ नया कार्यक्रम जोड़ें</button>
        </div>
        <div id="dashboardTables"></div>
        <button onclick="exportDashboardToCSV()">CSV में एक्सपोर्ट करें</button>
    </div>

    <!-- Modal -->
    <div id="addEventModal" style="display:none; position:fixed; top:10%; left:40%; background:#fff; border:1px solid #ccc; padding:20px; z-index:99;">
        <form id="dashboardAddEventForm">
            <input type="text" id="dashEventName" placeholder="कार्यक्रम नाम" required>
            <select id="dashMandal" required></select>
            <input type="date" id="dashEventDate" required>
            <input type="time" id="dashEventTime" required>
            <input type="text" id="dashLocation" placeholder="स्थान" required>
            <button type="submit">जोड़ें</button>
            <button type="button" onclick="closeAddEventForm()">रद्द</button>
        </form>
    </div>

    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-storage.js"></script>
    <script type="module" src="firebase.js"></script>
    <script type="module" src="app.js"></script>
</body>
</html>
